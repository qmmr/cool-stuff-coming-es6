<!doctype html>
<html lang="en">

    <head>
        <meta charset="utf-8">

        <title>ECMAScript 6 => pure awesomness</title>

        <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
        <meta name="author" content="Hakim El Hattab">

        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <link rel="stylesheet" href="css/reveal.min.css">
        <link rel="stylesheet" href="css/theme/default.css" id="theme">
        <link rel="stylesheet" href="css/custom.css">

        <!-- For syntax highlighting -->
        <link rel="stylesheet" href="lib/css/zenburn.css">

        <!-- If the query includes 'print-pdf', include the PDF print sheet -->
        <script>
            if( window.location.search.match( /print-pdf/gi ) ) {
                var link = document.createElement( 'link' );
                link.rel = 'stylesheet';
                link.type = 'text/css';
                link.href = 'css/print/pdf.css';
                document.getElementsByTagName( 'head' )[0].appendChild( link );
            }
        </script>

        <!--[if lt IE 9]>
        <script src="lib/js/html5shiv.js"></script>
        <![endif]-->
    </head>

    <body>
        <div class="reveal">
            <!-- Any section element inside of this container is displayed as a slide -->
            <div class="slides">
                <section>
                    <h1>ECMAScript 6 => `${pure}<br>awesomness`</h1>
                </section>

                <section>
                    <h2>About me:</h2>
                    <ul>
                        <li>Marcin Kumorek</li>
                        <li>Front-end developer @platformui</li>
                        <li><a href="http://twitter.com/qmmr" target="_blank">@qmmr</a></li>
                        <li><a href="http://plus.google.com/+MarcinKumorekProfile" target="_blank">Google+</a></li>
                        <li><a href="https://github.com/qmmr">github.com/qmmr</a></li>
                    </ul>
                </section>

                <section>
                    <section>
                        <h1>A brief history of JavaScript</h1>
                        <ul>
                            <li class="fragment">created in 10 days in May 1995 by Brendan Eich, an engineer at Netscape</li>
                            <li class="fragment">first released with Netscape 2 early in 1996</li>
                            <li class="fragment">originally called Mocha, renamed to LiveScript to reflect its dynamic nature</li>
                            <li class="fragment">finally renamed to JavaScript after the popular Sun Microsystem's Java language</li>
                        </ul>
                    </section>

                    <section>
                        <h2><span style="text-decoration: line-through;">Mocha</span> JavaScript flavors</h2>
                        <ul>
                            <li class="fragment">Microsoft released a mostly-compatible version of the language called JScript with IE 3 several months later</li>
                            <li class="fragment">ECMAScript standard in 1997</li>
                            <li class="fragment">The standard received a significant update as ECMAScript edition 3 in 1999</li>
                            <li class="fragment">The fourth edition was abandoned.</li>
                            <li class="fragment">ECMAScript edition 5, published in December of 2009</li>
                            <li class="fragment">ECMAScript 6 (ES6 Harmony) - work in progress</li>
                        </ul>
                        <aside class="notes">
                            - LiveScript was renamed to JavaScript (because of popularity of Java) edespite the two having very little in common. This has been a source of confusion ever since.
                            - Netscape submitted the language to European Computer Manufacturers Association which resulted in the first edition of the ECMAScript standard in 1997.
                            - ECMAScript edition 3 in 1999 and has stayed pretty much stable ever since
                            - The fourth edition was abandoned, due to political differences concerning language complexity.
                            - Many parts of the fourth edition formed a basis of the new ECMAScript edition 5, published in December of 2009
                        </aside>
                    </section>
                </section>

                <section>
                    <section>
                        <h1>ES6 finally</h1>
                    </section>

                    <section>
                        <h2>Let's dive in!</h2>
                    </section>

                    <section>
                        <img src="img/almost-there.jpg" alt="ES6 - almost there...">
                        <p>Almost there...</p>
                    </section>

                    <section>
                        <p>Available resources:</p>
                        <ul>
                            <li><a href="http://kangax.github.io/es5-compat-table/es6/">kangax.github.io/es5-compat-table/es6</a></li>
                            <li><a href="http://www.es6fiddle.net/">www.es6fiddle.net</a></li>
                            <li><a href="https://github.com/nzakas/understandinges6/blob/master/manuscript/01-The-Basics.md">understanding es6</a></li>
                            <li><a href="https://github.com/lukehoban/es6features">github.com/lukehoban/es6features</a></li>
                            <li><a href="https://twitter.com/esdiscuss">@esdiscuss</a></li>
                        </ul>
                    </section>
                </section>

                <section>
                    <section>
                        <h1>What's coming?</h1>
                    </section>

                    <section>
                        <h2>Syntax refinements:</h2>
                        <ul>
                            <li class="fragment"><a href="#/5/1">=> (arrow)</a></li>
                            <li class="fragment"><a href="#/5/6">object literals</a></li>
                        </ul>
                    </section>

                    <section>
                        <h2>New syntax:</h2>
                        <ul>
                            <li class="fragment"><a href="#/6/1">let</a></li>
                            <li class="fragment"><a href="#/6/6">const</a></li>
                            <li class="fragment"><a href="#/6/10">default parameters</a></li>
                            <li class="fragment"><a href="#/6/13">rest</a></li>
                            <li class="fragment"><a href="#/6/16">spread</a></li>
                            <li class="fragment"><a href="#/6/22">destructuring</a></li>
                            <li class="fragment"><a href="#/6/29">for..of loop</a></li>
                            <li class="fragment"><a href="#/6/32">iterators</a></li>
                            <li class="fragment"><a href="#/6/34">generators</a></li>
                            <li class="fragment"><a href="#/6/41">comprehensions</a></li>
                        </ul>
                    </section>

                    <section>
                        <h2>Organizational features:</h2>
                        <ul>
                            <li class="fragment">classes</li>
                            <li class="fragment">modules</li>
                        </ul>
                    </section>

                    <section>
                        <h2>New standard library features:</h2>
                        <ul>
                            <li class="fragment">set</li>
                            <li class="fragment">map</li>
                            <li class="fragment">weakmap + weakset</li>
                            <li class="fragment">promises</li>
                            <li class="fragment">proxies</li>
                        </ul>
                    </section>

                    <section>
                        <h2>...rest</h2>
                        <ul>
                            <li class="fragment">template strings</li>
// template literals
`string text`

// Multiline strings
`string text line 1
 string text line 2`

// String interpolation
`string text ${expression} string text`

var greet = function(greet = 'Hello', name = 'stranger') {
    return `${ greet } ${ name },
how are you today?`;
};

console.log(greet());
"Hello stranger,
how are you today?"

console.log(greet('Hi', 'Marcin'));
"Hi Marcin,
how are you today?"

---

var lovem = function(strings, ...vars) {
    return `${ vars[0] } <3 ${ strings[1] }!`;
};

var user = 'Marcin';

// syntax - tagged template
console.log(lovem `${ user }ECMAScript2015`);

                            <li class="fragment">unicode</li>
                            <li class="fragment">module loaders</li>
                            <li class="fragment">symbols</li>
                            <li class="fragment">subclassable built-ins</li>
                            <li class="fragment">math + number + string + object APIs</li>
                            <li class="fragment">binary and octal literals</li>
                            <li class="fragment">reflect api</li>
                            <li class="fragment">tail calls</li>
                        </ul>
                    </section>
                </section>

                <!-- PART ONE -->
                <section>

                    <section>
                        <h1>Part one</h1>
                    </section>

                    <!-- SYNTAX REFINEMENTS -->
                    <section>
                        <h1>Syntax refinements</h1>
                    </section>

                    <!-- ### => (arrow) ### -->
                    <section>
                        <h1>=> (arrow)</h1>
                        <ul>
                            <li>shorter syntax for common case use of anonymous functions</li>
                            <li>retains lexical scope of <strong>this</strong></p></li>
                        </ul>
                    </section>

                    <section>
                        <h2>shorter syntax for common case use of anonymous functions</h2>
                        <p>old way</p>
                        <pre><code data-trim contenteditable>
var reflect = function(value) {
    return value;
};

var reflect = value => value;

or

var reflect = (value) => {
    return value;
}

---

var sum = function(a, b) {
    return a + b;
};

var sum = (a, b) => a + b;

// OR

var sum = (a, b) => {
    return a + b;
};

---

var getName = function() {
    return 'Marcin';
};

var getName = () => 'Marcin';

---

var square = function(n) {
    return n * n;
};
var numbers = [ 0, 1, 2, 3, 4, 5 ];
var doubles = numbers.map( square ); // [ 0, 1, 4, 9, 16, 25 ]

var numbers = [ 0, 1, 2, 3, 4, 5 ];
var doubles = numbers.map( n => n * n ); // [ 0, 1, 4, 9, 16, 25 ]
                        </code></pre>
                    </section>

                    <section>
                        <p>new way</p>
                        <pre><code data-trim contenteditable>
let people = [
    {
        name: 'Joe',
        lastName: 'Doe',
        occupation: 'Web Developer',
        languages: [ 'HTML', 'CSS', 'JavaScript' ]
    },
    {
        name: 'Jane',
        lastName: 'Doe',
        occupation: 'Back-end Developer',
        languages: [ 'PHP', 'Ruby', 'Python', 'JavaScript' ]
    }
]

                        </code></pre>
                    </section>

                    <section>
                        <h2>retains lexical scope of <strong>this</strong></p></h2>
                        <p>old way</p>
                        <pre><code data-trim contenteditable>
var person = {
    name: 'Joe',
    friends: [ 'Jane', 'Johnny', 'Luke' ],
    getName: function() {
        setTimeout(function() {
            console.log(this.name);
        }, 1000);
    },
    showFriends: function() {
        return this.friends.map(function(friend) {
            return `${ this.name } is friend with ${ friend }`;
        });
    }
};

var person = {
    name: 'Joe',
    friends: [ 'Jane', 'Johnny', 'Luke' ],
    getName: function() {
        var that = this;
        setTimeout(function() {
            console.log(that.name);
        }, 1000);
    },
    showFriends: function() {
        var self = this;
        return this.friends.map(function(friend) {
            return `${ self.name } is friend with ${ friend }`;
        });
    }
};

var person = {
    name: 'Joe',
    friends: [ 'Jane', 'Johnny', 'Luke' ],
    getName: function() {
        setTimeout(function() {
            console.log(this.name);
        }.bind(this), 1000);
    },
    showFriends: function() {
        return this.friends.map(function(friend) {
            return `${ this.name } is friend with ${ friend }`;
        }, this);
    }
};

var person = {
    name: 'Joe',
    friends: [ 'Jane', 'Johnny', 'Luke' ],
    getName() {
        setTimeout(() => console.log(this.name), 1000);
    },
    showFriends() {
        return this.friends.map(friend => `${ this.name } is friend with ${ friend }`)
    }
};
console.log(person.getName())
console.log(person.showFriends())
                        </code></pre>
                    </section>

                    <section>
                        <h2>new way</h2>
                        <pre><code data-trim contenteditable>
let person = {
    name: 'Joe',
    friends: [ 'Jane', 'Johnny', 'Luke' ],
    getName() {
        setTimeout(() => console.log( 'Hi, my name is ' + this.name ), 1000);
    },
    showFriends() {
        this.friends.forEach( friend => console.log( this.name + ' is friend with ' + friend ) );
    }
};
person.getName();
person.showFriends();
                        </code></pre>
                        <aside class="notes">
                            es6fiddle
                        </aside>
                    </section>

                        <!-- ### refined object literals ### -->
                        <section>
                            <h1>Refined object literals</h1>
                        </section>

                        <section>
                            <h2>object literals</h2>
                            <p>old way</p>
                            <pre><code data-trim contenteditable>
var teacher = 'Michael'
var student = {
    name: 'Joe',
    teacher: teacher,
    greet: function () {
        return 'Hi, ' + this.name + '!'
    }
}
student[ '_id_' + +new Date() ] = Math.floor( Math.random() * 10000000 )
                            </code></pre>
                        </section>

                        <section>
                            <h2>object literals</h2>
                            <p>new way</p>
                            <pre>
                                <code data-trim contenteditable>
// ES5
var title = 'ECMAScript 2015';
var students = [ 'Joe', 'Jane', 'Phil' ];
var id = function() { return 42 };
var course = {
    title: title,
    students: students,
    welcome: function() {
        return 'Welcome to ' + this.title + ' course!';
    }
};
course[ '_prop_' + id() ] = id();

// ES6
var title = 'ECMAScript 2015';
var students = [ 'Joe', 'Jane', 'Phil' ];
var id = function() { return 42 };
var course = {
    title,
    students,
    welcome() {
        return `Welcome to ${ this.title } course!`;
    },
    [ `_prop_${ id() }` ]: id() // ['_prop42']: 42
};

for (let key of Object.keys(course)) {
  console.log(`Course.${ key } = ${ course[key] }`)
}

                                </code>
                            </pre>
                        </section>

                    <!-- ### new syntax ### -->
                    <section>
                        <h1>New syntax</h1>
                    </section>

                    <!-- ### let keyword ### -->
                    <section>
                        <h1>let</h1>
                        <h2>is the new var</h3>
                        <p class="fragment">scoped to the block rather then function</p>
                        <p class="fragment">does not have hoisting characteristics</p>
                        <aside class="notes">
                            block being anything inside curly braces
                            - loops
                            - if/else/else if
                            - switch
                            - try/catch*
                        </aside>
                    </section>

                    <section>
                        <h2>scoped inside if clause</h2>
                        <pre><code data-trim contenteditable>
function printName ( language ) {
    var name = 'Marcin';
    if ( language === 'English' ) {
        let name = 'Martin';
        console.log( name ); // Martin
    }
    console.log( name ); // Marcin
}

---

function func() {
    let foo = 5;
    if (1) {
        let foo = 10; // shadows outer `foo`
        console.log(foo); // 10
    }
    console.log(foo); // 5
}

---

if (true) { // enter new scope, TDZ starts
    // Uninitialized binding for `tmp` is created

    console.log(typeof tmp); // ReferenceError
    tmp = 'abc'; // ReferenceError
    console.log(tmp); // ReferenceError

    let tmp; // TDZ ends, `tmp` is initialized with `undefined`
    console.log(tmp); // undefined

    tmp = 123;
    console.log(tmp); // 123
}
                        </code></pre>
                        <aside class="notes">
                            you cannot redeclare identifier, throws syntax error
                        </aside>
                    </section>

                    <section>
                        <h2>Local scopes</h2>
                        <p>common problem</p>
                        <pre><code data-trim contenteditable>
function wrapper ( arr ) {
    var result = [], i, len;
    for ( i = 0, len = arr.length; i < len; ++i ) {
        result[i] = function () {
            return arr[i];
        }
    }
    return result
}
var wrapped = wrapper([ 'Luke', 'Obi-Wan', 'Yoda' ]);
console.log( wrapped[1]() ); // undefined

---

let arr = [];
for (var i=0; i < 3; i++) {
    arr.push(function() {
        return i;
    });
}
arr.map(function(x) {
    return x();
}); // [ 3, 3, 3 ]
                        </code></pre>
                        <h2 class="look fragment fade-in">&#3232;_&#3232;</h2>
                    </section>

                    <section>
                        <h2>Old solution</h2>
                        <pre><code data-trim contenteditable>
function wrapper ( arr ) {
    var result = [], i, len;
    for ( i = 0, len = arr.length; i < len; ++i ) {
        (function ( j ) {
            result[i] = function () { return arr[j] }
        })( i )
    }
    return result;
}
var wrapped = wrapper([ 'Luke', 'Obi-Wan', 'Yoda' ]);
console.log( wrapped[2]() ); // 'Yoda'
                        </code></pre>
                        <h2 class="look fragment fade-in">&#3232;&#3263;_&#3232;</h2>
                    </section>

                    <section>
                        <h2>New solution</h2>
                        <pre><code data-trim contenteditable>
function wrapper ( arr ) {
    var result = [];
    for ( let i = 0, len = arr.length; i < len; ++i ) {
        result[i] = function () { return arr[i] }
    }
    return result;
}
var wrapped = wrapper([ 'Luke', 'Obi-Wan', 'Yoda' ]);
console.log( wrapped[1]() ); // 'Obi-Wan'
                        </code></pre>
                        <h2 class="look fragment fade-in">&#65340;(&#65344;0&#180;)&#65295;</h2>
                    </section><!-- end ### let keyword ### -->

                    <!-- ### const keyword ### -->
                    <section>
                        <h1>const</h1>
                        <p class="fragment">similar to let, block scoped</p>
                        <aside class="notes">
                            - block being anything inside curly braces
                            - loops
                            - if/else/else if
                            - switch
                            - try/catch*
                        </aside>
                    </section>

                    <section>
                        <h2>once declared, cannot be redeclared</h2>
                        <pre><code data-trim contenteditable>
const FOO = 'hello world';
FOO = 'Goodbye, world!'; // error
                        </code></pre>
                    </section>

                    <section>
                        <h2>declaration must be followed<br> by assignment</h2>
                        <pre><code data-trim contenteditable>
const FOO;
console.log( FOO ); // undefined
FOO = 'hello world!'; // error: cannot reasign const
                        </code></pre>
                        <aside class="notes">
                            - otherwise we have undefined value, that we cannot change (sic!)
                            - IE will give an error, others will ignore it (Firefox)
                        </aside>
                    </section>

                    <section>
                        <h2>const can hold any type of variables (array, object etc.)</h2>
                        <pre><code data-trim contenteditable>
const FOO = [];
FOO.push( 'Hello' );
FOO.push( 'world!' );
console.log(FOO.join( ', ' )); // Hello, world!
                        </code></pre>
                        <pre><code data-trim contenteditable>
const BAR = {};
BAR.baz = 'Hello, world!';
console.log( BAR.baz ); // hello, world!

--

Object.assign()

var alias = 'Spider-man';
var person = {
    firstName: 'Peter',
    lastName: 'Parker'
};
var superpowers = [ 'web', 'wall-climbing' ];
var peter = Object.assign({}, person, { alias: alias }, { superpowers: superpowers });

console.log(JSON.stringify(peter));
/*
{
    "alias": "Spider-man",
    "firstName": "Peter",
    "lastName": "Parker",
    "superpowers": [ "web", "wall-climbing" ]
}
*/

---

var alias = 'Spider-man';
var person = {
    firstName: 'Peter',
    lastName: 'Parker'
};
var superpowers = [ 'web', 'wall-climbing' ];
var peter = Object.assign({}, person, { alias, superpowers });

console.log(JSON.stringify(peter));
/*
{
    "alias": "Spider-man",
    "firstName": "Peter",
    "lastName": "Parker",
    "superpowers": [ "web", "wall-climbing" ]
}
*/
                        </code></pre>
                    </section><!-- end ### const ### -->

                    <!-- ### default parameters ### -->
                    <section>
                        <h1>default parameters</h1>
                        <h2 class="look fragment">&#664;&#8255;&#664;</h2>
                    </section>

                    <section>
                        <h2>checking for optional params</h2>
                        <blockquote>old way</blockquote>
                        <pre><code data-trim contenteditable>
function createCustomElement (tagName, id, parent) {
    if (!id) {
        id = generateID();
    }
    if (!parent) {
        parent = document.body;
    }
    var element = document.createElement( tagName );
    element.id = id;
    parent.appendChild(element);
    return element;
}

function makeRequest(url, timeout, callback) {
    timeout = timeout || 2000;
    callback = callback || function() {};

    // the rest of the function
}

function makeRequest(url, timeout = 2000, callback = function() {}) {
    // the rest of the function
}

---

function timeout(timeout = 2000, callback = function() {}) {
    // the rest of the function
}

---

function getCallback() {
    return function() {};
}

function timeout(timeout = 2000, getCallback()) {
    // the rest of the function
}

---

// uses default timeout and callback
makeRequest('/foo');

// uses default callback
makeRequest('/foo', 500);

// doesn't use defaults
makeRequest('/foo', 500, function(el) {
    doSomething(el);
});

var getCallback = function() {
    return function callback() {}
};

function makeRequest(url, timeout = 2000, callback = getCallback()) {
    // the rest of the function
}
                        </code></pre>
                    </section>

                    <section>
                        <h2>assignment inside parenthesis</h2>
                        <blockquote>new way</blockquote>
                        <pre><code data-trim contenteditable>
function createCustomElement (tagName = 'div', id = generateID(), parent = document.body) {
    let element = document.createElement(tagName);
    element.id = id;
    parent.appendChild( element );
    return element;
}
                        </code></pre>
                    </section><!-- end ### default parameters ### -->

                    <!-- ### rest ### -->
                    <section>
                        <h1>...rest</h1>
                        <p class="fragment">is an array of params that were not declared</p>
                        <p class="fragment">solves the arguments problem</p>
                        <h2 class="look fragment">&#65340;(&#65344;0&#180;)&#65295;</h2>
                    </section>

                    <section>
                        <h2>rest params</h2>
                        <blockquote>old way</blockquote>
                        <pre><code data-trim contenteditable>
var sum = function(a, b) {
   return a + b;
}
sum(1, 2); // 3

var sum = function(a, b) {
   return a + b;
}
sum(1, 2, 3); // ???

var sum = function() {
    var args = [].slice.call(arguments);
    return args.reduce(function(accu, curr) {
        return accu + curr;
    }, 0);
}
sum(1, 2, 3, 4, 5) // 15
                        </code></pre>
                        <aside class="notes">
                            sum function with 2 required params ( a, b )
                            any additional params are optional
                        </aside>
                    </section>

                    <section>
                        <h2>rest params</h2>
                        <blockquote>new way</blockquote>
                        <pre><code data-trim contenteditable>
var sum = function(...rest) {
    return rest.reduce(function(prev, current) {
        return prev + current;
    }, 0);
}
console.log(sum(1, 2, 3, 4, 5)); // 15

function sum(...rest) {
    return rest.reduce((prev, current) => prev + current, 0);
}
console.log(sum(1, 2, 3, 4, 5)); // 15
                        </code></pre>
                    </section><!-- end ### rest ### -->

                    <!-- ### spread ### -->
                    <section>
                        <h1>...spread</h1>
                        <p class="fragment">expands array of args into individual variables</p>
                    </section>

                    <section>
                        <h2>getting the highest value</h2>
                        <blockquote>old way</blockquote>
                        <pre><code data-trim contenteditable>
var numbers = [ 0, 20, 22, 42 ];
Math.max.apply(null, numbers); // 42

function sum(x, y, z) {
    return x + y + z;
}
sum(numbers[0], numbers[1], numbers[2]); // 42
                        </code></pre>
                        <blockquote>new way</blockquote>
                        <pre><code data-trim contenteditable>
var numbers = [ 0, 20, 22, 42 ];
Math.max(...numbers); // 42

function sum(x, y, z) {
    return x + y + z;
}
sum(...numbers); // 42

                        </code></pre>
                    </section>

                    <section>
                        <h2>spread array</h2>
                        <blockquote>old way</blockquote>
                        <pre><code data-trim contenteditable>
var getCoords = function(x, y, z) {
    return {
        x: x,
        y: y,
        z: z
    };
}
var points = [ 100, 50, 42 ];
var coords = getCoords(points[0], points[1], points[2]); // { "x": 100, "y": 50, "z": 42 }
                        </code></pre>
                    </section>

                    <section>
                        <h2>spread array</h2>
                        <blockquote>new way</blockquote>
                        <pre><code data-trim contenteditable>
var getCoords = function(x, y, z) {
    return {
        x: x,
        y: y,
        z: z
    };
}
var points = [ 100, 50, 42 ];
var coords = getCoords(...points); // { "x": 100, "y": 50, "z": 42 }

var getCoords = function(x, y, z) {
    return { x, y, z };
}
var points = [ 100, 50, 42 ];
var coords = getCoords(...points); // { "x": 100, "y": 50, "z": 42 }

var getCoords = (x, y, z) => ({ x, y, z });
var points = [ 100, 50, 42 ];
var coords = getCoords(...points); // { "x": 100, "y": 50, "z": 42 }

var getPoints = ({ x, y, z }) => [ x, y, z];
var coords = getCoords(...getPoints({ "x": 100, "y": 50, "z": 42 })); // { "x": 100, "y": 50, "z": 42 }
                        </code></pre>
                        <aside class="notes">
                            - notice spread into new object literal syntax
                        </aside>
                    </section>

                    <section>
                        <h2>joining arrays</h2>
                        <blockquote>old way</blockquote>
                        <pre><code data-trim contenteditable>
var primes = [ 2, 3, 5 ]
var fibonacci = [ 0, 1, 1 ]
fibonacci = fibonacci.concat( primes ) // [0, 1, 1, 2, 3, 5]
                        </code></pre>
                        <div class="fragment">
                            <blockquote>new way</blockquote>
                            <pre><code data-trim contenteditable>
let fibonacci = [ 0, 1, 1, ...primes ]; // [0, 1, 1, 2, 3, 5]
                            </code></pre>
                        </div>
                    </section>

                    <section>
                        <h2>joining arrays - advanced</h2>
                        <blockquote>old way</blockquote>
                        <pre><code data-trim contenteditable>
var primes = [ 2, 3, 5 ];
var fibonacci = [ 0, 1, 1, 8, 13, 21 ];
primes.forEach(function ( num ) {
    var index = fibonacci.indexOf( 8 );
    fibonacci.splice( index, 0, num );
})
console.log( fibonacci ); // [0, 1, 1, 2, 3, 5, 8, 13, 21]
                        </code></pre>
                        <div class="fragment">
                            <blockquote>new way</blockquote>
                            <pre><code data-trim contenteditable>
let fibonacci = [ 0, 1, 1, ...primes, 8, 13, 21 ];
console.log( fibonacci ); // [0, 1, 1, 2, 3, 5, 8, 13, 21]
                            </code></pre>
                        </div>
                    </section><!-- end ### spread ### -->

                    <section>
                        <h2>The rest of new syntax features in part two</h2>
                    </section>

                </section><!-- END OF PART ONE -->

                <!-- PART TWO -->
                <section>

                    <section>
                        <h1>Part two</h1>
                        <h2>New syntax continues</h2>
                    </section>

                    <!-- ### destructuring ### -->
                    <section>
                        <h1>destructuring</h1>
                        <p class="fragment">extract data from objects and arrays</p>
                    </section>

                    <section>
                        <h2>swaping values of variables</h2>
                        <blockquote>old way</blockquote>
                        <pre><code data-trim contenteditable>
var a = 1;
var b = 2;
var tmp = a;
a = b;
b = tmp;
                        </code></pre>
                        <h2 class="look fragment fade-in">&#3232;_&#3232;</h2>
                    </section>

                    <section>
                        <h2>swaping values of variables</h2>
                        <blockquote>new way</blockquote>
                        <pre><code data-trim contenteditable>
let a = 1;
let b = 2;
let tmp = a;
a = b;
b = tmp;

let [ a, b ] = [ 1, 2 ];
[ a, b ] = [ b, a ];
console.log(a, b); // 2, 1
                        </pre></code>
                        <h2 class="look fragment">&#664;&#8255;&#664;</h2>
                    </section>

                    <section>
                        <h2>extract array</h2>
                        <pre><code data-trim contenteditable>
#008744     (0,135,68) // green
#0057e7     (0,87,231) // blue
#d62d20     (214,45,32) // red
#ffa700     (255,167,0) // orange
#ffffff     (255,255,255) // white

let getColors = function() {
    return [ '#008744', '#0057e7', '#d62d20' ];
};
let colors = getColors();
let green = colors[0];
let blue = colors[1];
let red = colors[2];

let [ green, blue, red ] = getColors;
console.log(green, blue, red); // "#008744" "#0057e7" "#d62d20"

---

let getColors = function() {
    return [ '#008744', '#0057e7', '#d62d20' ];
};
let colors = getColors();
let green = colors.shift();

console.log(green, colors); // "#008744", [ "#0057e7", "#d62d20" ]

---

let getColors = function() {
    return [ '#008744', '#0057e7', '#d62d20' ];
};
let [ green, ...colors ] = getColors();

console.log(green, colors); // "#008744", [ "#0057e7", "#d62d20" ]

---

let getColors = function() {
    return [
        [ '#008744', '0,135,68' ],
        [ '#0057e7', '0,87,231' ]
    ];
}
let [
    [ green = '#00ff00' ] = [],
    [ blueHEX, blueRGB ] = [],
    [ , redRGB = '214,45,32' ] = []
] = getColors();
console.log(green, blueHEX, blueRGB, redRGB);

---

let getColors = function() {
    return [
        [ '#008744', '0,135,68' ],
        [ '#0057e7', '0,87,231' ],
        [ '#d62d20', '214,45,32' ]
    ];
}

let colors = getColors();
let green = colors[0][0];
let blue = colors[1][0];
let red = colors[2][0];

let [ green, ...colors ] = getColors; // "#008744", [ "#0057e7","#d62d20" ]

---

let [ [ green ], [ blue ], [ red ] ] = colors;
console.log(green, blue, red); // "#008744" "#0057e7" "#d62d20"

---

let destruct = function(str) {
    return str.split(/\n/);
};
let headline = 'Congratulations!\nYou have been rewarded $50’;
var [ title, message ] = destruct(headline);
console.log(title); // "Congratulations!"
console.log(message); // "You have been rewarded $50!"

let destruct = str => str.split(/\n/);
let headline = 'Congratulations!\nYou have been rewarded $50’;
let [ title, message ] = destruct(headline);
console.log(title); // "Congratulations!"
console.log(message); // "You have been rewarded $50!"
                        </code></pre>
                        <br>
                        <div class="fragment">
                            <h3>omitting certain values</h3>
                            <pre><code data-trim contenteditable>
let destruct = ( str ) => str.split( /\s/ )
let [ first, , , , last ] = destruct( 'Joe James John Jake Josh' );
console.log( first ); // 'Joe'
console.log( last ); // 'Josh'
console.log( second ); // ReferenceError: second is not defined
                            </code></pre>
                        </div>
                        <aside class="notes">omitting - second code block</aside>
                    </section>

                    <section>
                        <h2>destructuring objects</h2>
                        <blockquote>long way / control naming</blockquote>
                        <pre><code data-trim contenteditable>
let person = {
    firstName: 'Joe',
    lastName: 'Doe'
};
let { firstName: first, lastName: last } = person;
console.log(first); // "Joe"
console.log(last); // "Doe"

let person = {
    firstName: 'Joe',
    lastName: 'Doe'
};
let { firstName, lastName } = person;
console.log(firstName); // "Joe"
console.log(lastName); // "Doe"

---

let person = {
    firstName: 'Joe',
    lastName: 'Doe',
    email: {
        personal: 'joe.doe@gmail.com',
        work: 'joe.doe@gamesys.co.uk'
    }
};
let {
    firstName,
    lastName,
    email: { personal: email }
} = person;
console.log(firstName); // "Joe"
console.log(lastName); // "Doe"
console.log(email); // "joe.doe@gmail.com"

---

let person = {
    firstName: 'Joe',
    lastName: 'Doe',
    emails: [ 'joe.doe@gmail.com', 'joe.doe@gamesys.co.uk' ]
};
let { firstName, lastName, emails: [ email ] } = person;
console.log(firstName); // "Joe"
console.log(lastName); // "Doe"
console.log(email); // "joe.doe@gmail.com"

---

let person = {
    firstName: 'Joe',
    lastName: 'Doe',
    emails: [ 'joe.doe@gmail.com', 'joe.doe@gamesys.co.uk' ]
};
let { firstName, lastName, emails: [ personalEmail, workEmail ] } = person;
console.log(firstName); // "Joe"
console.log(lastName); // "Doe"
console.log(personalEmail); // "joe.doe@gmail.com"
console.log(workEmail); // "joe.doe@gamesys.co.uk"


---

let person = {
    firstName: 'Joe',
    lastName: 'Doe',
    emails: [ 'joe.doe@gmail.com', 'joe.doe@gamesys.co.uk' ]
};
let { firstName, lastName, emails: [ personalEmail, workEmail ] } = person;
console.log(firstName); // "Joe"
console.log(lastName); // "Doe"
console.log(personalEmail); // "joe.doe@gmail.com"
console.log(workEmail); // "joe.doe@gamesys.co.uk"


---


function getFullname({ firstName, lastName }) {
    return `${ lastName }, ${ firstName }`;
}
getFullname(person); // "Doe, Joe"
                        </code></pre>
                    </section>

                    <section>
                        <h2>destructuring objects</h2>
                        <blockquote>short way / same variables names</blockquote>
                        <pre><code data-trim contenteditable>
let person = {
    firstName: 'John',
    lastName: 'Doe'
};
let { firstName, lastName } = person;
console.log(firstName, lastName); // John Doe
                        </code></pre>
                    </section>

                    <section>
                        <h2>destructuring function parameters</h2>
                        <pre><code data-trim contenteditable>
let person = {
    age: 30,
    firstName: 'John',
    lastName: 'Doe',
    email: {
        work: 'john.doe@office.com',
        home: 'jdoe@gmail.com'
    }
};

function describePerson ({ firstName, lastName, email: { home: email }}) {
    console.log(`${firstName} ${lastName} | email: ${email}`);
}

describePerson( person ); // John Doe | email: jdoe@gmail.com
                        </code></pre>
                        <aside class="notes">
                            you can destructure nested objects
                        </aside>
                    </section><!-- ### destructuring ### -->

                    <!-- ### for..of ### -->
                    <section>
                        <h1>for..of</h1>
                        <p class="fragment">iterates over values of array</p>
                    </section>

                    <section>
                        <h2>for..in loop problem</h2>
                        <pre><code data-trim contenteditable>
var numbers = [ 1, 2, 3, 4, 5 ]
for (var num in numbers) {
    console.log( num )
}
// 0, 1, 2, 3, 4
                        </code></pre>
                        <h2 class="look fragment fade-in">WTF?!?<br>&#3232;_&#3232;</h2>
                    </section>

                    <section>
                        <h2>looping over array</h2>
                        <blockquote>old way</blockquote>
                        <pre><code data-trim contenteditable>
[ 1, 2, 3, 4, 5 ].forEach(function ( number ) {
    console.log( number )
})
// 1, 2, 3, 4, 5
                        </code></pre>
                        <h2 class="look fragment fade-in">&#3232;&#3263;_&#3232;</h2>
                    </section>

                    <section>
                        <h2>looping over array</h2>
                        <blockquote>new way</blockquote>
                        <pre><code data-trim contenteditable>
for ( let number of numbers ) {
    console.log( number )
}
// 1, 2, 3, 4, 5
                        </code></pre>
                        <h2 class="look fragment fade-in">&#65340;(&#65344;0&#180;)&#65295;</h2>
                    </section>

                    <section>
                        <h2>array-like objects</h2>
                        <blockquote>old way</blockquote>
                        <pre><code data-trim contenteditable>
<ul>
    <li>one</li>
    <li>two</li>
    <li>three</li>
</ul>
                        </code></pre>
                        <pre><code data-trim contenteditable>
var items = [].slice.call(document.getElementsByTagName('li'))
items.forEach(function ( el ) {
    console.log( el.textContent )
})

                        </code></pre>
                        <div class="fragment">
                            <blockquote>new way</blockquote>
                            <pre><code data-trim contenteditable>
for ( let item of items ) {
    console.log( item.textContent )
}
                            </code></pre>
                        </div>
                    </section><!-- end ### for..of ### -->

                    <!-- ### iterators ### -->
                    <section>
                        <h1>iterators</h1>
                        <p class="fragment">An iterator is an object with a next method that returns { done, value }</p>
                        <p class="fragment">An iterable is an object which has an internal method, written in the current ES6 draft specs as obj[@@iterator](), that returns an iterator.</p>
                    </section>

                    <section>
                        <h2>iterating over array</h2>
                        <pre><code data-trim contenteditable>
let numbers = [ 1, 2 ]
let iter = numbers["@@iterator"]()
iter.next() // { value: 1, done: false }
iter.next() // { value: 2, done: false }
iter.next() // { value: undefined, done: true }
                        </code></pre>
                        <div class="fragment">
                            <blockquote>using iterable</blockquote>
                            <pre><code data-trim contenteditable>
for ( let num of iter ) { console.log( num ) }
                            </code></pre>
                        </div>
                        <aside class="notes">
                            "@@iterator" is implemented in Firefox, ES6 Draft Spec defines Symbol.iterator
                        </aside>
                    </section><!-- end ### iterators ### -->

                    <!-- ### generators ### -->
                    <section>
                        <h1>generators</h1>
                        <h2 class="fragment"><a href="http://wiki.ecmascript.org/doku.php?id=harmony:generators" target="_blank">ECMAScript 6 Draft</a></h2>
                        <blockquote class="fragment">First-class coroutines, represented as objects encapsulating suspended execution contexts.</blockquote>
                        <aside class="notes">
                            Generators are functions that can suspend themselves (using the yield keyword) and be resumed (from the outside world) by calling their “next” method.
                        </aside>
                    </section>

                    <section>
                        <h2>even numbers</h2>
                        <blockquote>generator example</blockquote>
                        <pre><code data-trim contenteditable>
function* evenGen ( arr ) {
    for ( let num of arr ) {
        if ( num % 2 === 0 ) {
            yield num;
        }
    }
}
let numbers = [ 1, 2, 3, 4, 5, 6 ];
for (let num of evenGen( numbers )) {
    console.log( num );
}
                        </code></pre>
                        <aside class="notes">
                            function followed by * and yield keyword
                        </aside>
                    </section>

                    <section>
                        <h2>Fibonacci sequence</h2>
                        <blockquote>old way</blockquote>
                        <pre><code data-trim contenteditable>
function fibonacci ( max ) {
    var a = 0, b = 1, c = 0;
    for ( var i = 0; i < max; ++i ) {
        console.log( a );
        c = a;
        a = b;
        b = c + b;
    }
}
fibonacci( 10 ); // 0 1 1 2 3 5 8 13 21 34
                        </code></pre>
                    </section>

                    <section>
                        <h2>Fibonacci sequence</h2>
                        <blockquote>new way</blockquote>
                        <pre><code data-trim contenteditable>
function* fibonacci () {
    var [ prev, curr ] = [ 0, 1 ];
    while ( 1 ) {
        yield prev;
        [ prev, curr ] = [ curr, prev + curr ];
    }
}
var gen = fibonacci();
//gen.next() // {value: 0, done: false}
var fibSeq = [];
for ( var n of gen) {
    if (n > 34) break;
    o.push(n);
}
console.log( fibSeq.join(', ') ) // 0, 1, 1, 2, 3, 5, 8, 13, 21, 34
                        </code></pre>
                    </section>

                    <section>
                        <h2>generator and objects</h2>
                        <pre><code data-trim contenteditable>
function Person ( firstName, lastName ) {
    this.firstName = firstName;
    this.lastName = lastName;
}
Person.prototype.greet = function () {
    return 'Hi, my name is ' + this.firstName;
};
let johnDoe = new Person( 'John', 'Doe' );
for ( let val of johnDoe ) {
    console.log( val );
}
// TypeError: john['@@iterator'] is not a function
                        </code></pre>
                    </section>

                    <section>
                        <h2>generator and objects</h2>
                        <pre><code data-trim contenteditable>
function* objGen ( obj ) {
    for ( let prop in obj ) {
        if (obj.hasOwnProperty(prop) ) {
            yield [prop, obj[prop]]
        }
    }
}

for ( let [key, val] of objGen( johnDoe ) ) {
    console.log( key + ': ' + val )
}
// "firstName: John"
// "lastName: Doe"
                        </code></pre>
                    </section>

                    <section>
                        <h2>implementing generator into object</h2>
                        <pre><code data-trim contenteditable>
Person.prototype['@@iterator'] = function* () {
    for ( let prop in this ) {
        if (this.hasOwnProperty( prop )) {
            yield [ prop, this[prop] ]
        }
    }
}
for ( let [ key, val ] of johnDoe ) {
    console.log( key + ': ' + val )
}
// "firstName: John"
// "lastName: Doe"
                        </code></pre>
                        <aside class="notes">

                        </aside>
                    </section><!-- end ### generators ### -->

                    <!-- ### comprehensions ### -->
                    <section>
                        <h1>comprehensions</h1>
                        <p class="fragment">syntactic construct for creating arrays based on other arrays</p>
                    </section>

                    <section>
                        <h2>Array map</h2>
                        <blockquote>old way</blockquote>
                        <pre><code data-trim contenteditable>
var jedis = [ 'Luke', 'Obi-wan', 'Yoda' ];
var jediMasters = jedis.map(function ( jedi ) {
    return 'master ' + jedi;
});
console.log( jediMasters ); // [ "master Luke", "master Obi-wan", "master Yoda" ]
                        </code></pre>
                    </section>

                    <section>
                        <h2>Array map</h2>
                        <blockquote>new way</blockquote>
                        <pre><code data-trim contenteditable>
let jedis = [ 'Luke', 'Obi-wan', 'Yoda' ];
let jediMasters = [ 'master ' + jedi for ( jedi of jedis ) ];
console.log( jediMasters ); // [ "master Luke", "master Obi-wan", "master Yoda" ]
                        </code></pre>
                    </section>

                    <section>
                        <h2>Array filter</h2>
                        <blockquote>old way</blockquote>
                        <pre><code data-trim contenteditable>
var jedis = [ 'Luke Skywalker', 'Yoda', 'Darth Vader', 'Darth Maul' ];
var jediKnights = jedis.filter(function ( jedi ) {
    return jedi.indexOf( 'Darth' ) == -1;
});
console.log( jediKnights ); // [ 'Luke Skywalker', 'Yoda' ]
                        </code></pre>
                    </section>

                    <section>
                        <h2>Array filter</h2>
                        <blockquote>new way</blockquote>
                        <pre><code data-trim contenteditable>
let jedis = [ 'Luke Skywalker', 'Yoda', 'Darth Vader', 'Darth Maul' ];
let jediKnights = [ knight for ( knight of jedis ) if ( knight.indexOf( 'Darth' ) == -1) ];
console.log( jediKnights ); // [ 'Luke Skywalker', 'Yoda' ]
                        </code></pre>
                    </section>

                    <section>
                        <h2>Generator comprehension</h2>
                        <pre><code data-trim contenteditable>
let jedis = [ 'Luke Skywalker', 'Yoda', 'Darth Vader', 'Darth Maul' ];
let jediKnights = ( knight for ( knight of jedis ) if ( knight.indexOf( 'Darth' ) == -1) );
console.log( jediKnights.next() ); // 'Luke Skywalker'
                        </code></pre>
                    </section><!-- end ### comprehensions ### -->

                </section><!-- end ### new syntax ### -->
            </section><!-- END OF PART TWO -->

            <!-- PART THREE -->
            <section>

                <section>
                    <h1>Part three</h1>
                </section>

                <!-- ### Organizational features ### -->
                <section>
                    <h2>Organizational features</h2>
                    <ul>
                        <li>Classes</li>
                        <li>Modules</li>
                    </ul>
                </section>

                <!-- ### classes ### -->
                <section>
                    <h1>classes</h1>
                    <blockquote>ES6 classes are a simple syntactic sugar of the prototype-based OO pattern</blockquote>
                    <p>Classes support prototype-based inheritance, super calls, instance and static methods and constructors.</p>
                </section>

                <section>
                    <h2>OOP</h2>
                    <blockquote>old way</blockquote>
                    <pre><code data-trim contenteditable>
function Human (firstName, lastName) {
    this.firstName = firstName || 'John';
    this.lastName = lastName || 'Doe';
}

Human.prototype.greet = function() {
    return 'Hi, my name is ' + this.firstName + ' ' + this.lastName;
};

// static method
Human.type = function() { return 'human' };
                    </code></pre>
                </section>

                <section>
                    <h2>OOP</h2>
                    <blockquote>new way</blockquote>
                    <pre><code data-trim contenteditable>
class Human {
    constructor(firstName = 'Joe', lastName = 'Doe') {
        this.firstName = firstName;
        this.lastName = lastName;
    }

    greet() {
        return `Hi, my name is ${ this.firstName }.`;
    }

    static type() {
        return 'human';
    }
}

var joe = new Human();
console.log(joe.greet()); // 'Hi, my name is Joe.'
console.log(Human.type()); // 'human'
                    </code></pre>
                </section>

                <section>
                    <h2>OOP inheritance</h2>
                    <blockquote>old way</blockquote>
                    <pre><code data-trim contenteditable>
function SuperHuman (firstName, lastName, alias) {
    Human.call(this, firstName, lastName);
    this.alias = 'Spider-man' || 'unknown';
    this.superpowers = superpowers || [];
};

SuperHuman.prototype = Object.create( Human.prototype );
SuperHuman.prototype.constructor = SuperHuman;

SuperHuman.prototype.greet = function () { return  ( 'Hi, I am ' + this.alias + '!' ) };

SuperHuman.prototype.revealIdentity = function () {
    var greet = ( Human.prototype.greet.call(this) + ' a.k.a. ' + this.alias );
    return ( greet + ' and I am a ' + SuperHuman.type() + '.' );
};

SuperHuman.prototype.useSuperpower = function () {
    return ( this.alias + ' uses the ' + this.superpowers[0] + '!' )
};

SuperHuman.type = function () { return 'superhuman' };
                    </code></pre>
                </section>

                <section>
                    <h2>OOP inheritance</h2>
                    <blockquote>new way</blockquote>
                    <pre><code data-trim contenteditable>
class SuperHuman extends Human {
    constructor(firstName, lastName, alias = 'superhuman') {
        super(firstName, lastName);
        this.alias = alias;
    }
    greet() {
        return `Hi, I am ${ this.alias }!`;
    }
    revealIdentity() {
        return `Psst... It's me, ${ this.firstName }!`;
    }
    static type() {
        return 'superhuman';
    }
}
var spider = new SuperHuman('Peter', 'Parker', 'Spider-man');
console.log(spider.greet()); // Hi, I am Spider-man!
console.log(spider.revealIdentity()); // Psst... It's me, Peter!
                    </code></pre>
                </section>

                <section>
                    <h2>Getters and setters</h2>
                    <blockquote>old way</blockquote>
                    <pre><code data-trim contenteditable>
Object.defineProperty(Human.prototype, 'fullName', {
    get: function () {
        return ( this.lastName + ', ' + this.firstName );
    }
});

Object.defineProperty(Human.prototype, 'occupation', {
    get: function () {
        return ( 'Occupation: ' + this._occupation );
    },
    set: function ( occupation ) {
        return this._occupation = occupation;
    }
});
                    </code></pre>
                </section>

                <section>
                    <h2>Getters and setters</h2>
                    <blockquote>new way</blockquote>
                    <pre><code data-trim contenteditable>
class Person {
    constructor(firstName = 'Joe', lastName = 'Doe') {
        this.firstName = firstName;
        this.lastName = lastName;
    }
    get fullName () {
        return `${this.lastName}, ${this.firstName}`
    }
    get occupation() {
        return `Occupation: ${this._occupation}`
    }
    set occupation(occupation) {
        return this._occupation = occupation;
    }
}
var jane = new Person('Jane');
console.log(jane.fullName); // Doe, Jane
                    </code></pre>
                </section><!-- end ### classes ### -->

                <section>
                    <h2>Object.assign</h2>
                    <blockquote>The missing piece</blockquote>
                    <pre><code data-trim contenteditable>
var person = {
    firstName: 'Peter',
    lastName: 'Parker'
};

var superhero = {
    alias: 'Spider-man',
    superpowers: [ 'web', 'wall-climbing' ]
};

var spiderman = Object.assign({}, person, superhero);
console.log(JSON.stringify(spiderman));
/*
{
    "firstName": "Peter",
    "lastName": "Parker",
    "alias": "Spider-man",
    "superpowers": [ "web", "wall-climbing" ]
}
*/

                    </code></pre>
                </section><!-- end ### classes ### -->


                <!-- ### modules ### -->
                <section>
                    <h1>modules</h1>
                </section>

                <section>
                    <h2>ES5 modules</h2>
                </section>

                <section>
                    <h1>404</h1>
                    <h3>Sorry, the feature you're looking for is not available.</h3>
                </section>

                <section>
                    <h2>Workarounds:</h2>
                    <ul>
                        <li class="fragment">JavaScript does not have built-in support for modules</li>
                        <li class="fragment">community has created impressive work-arounds</li>
                        <li class="fragment">two most popular: CJS and AMD</li>
                        <li class="fragment">unfortunately incompatible</li>
                    </ul>
                </section>

                <section>
                    <h2>CommonJS</h2>
                    <div class="fragment">
                        <ul>
                            <li>compact syntax</li>
                            <li>designed for synchronous loading</li>
                            <li>main use: server</li>
                        </ul>
                    </div>
                    <div class="horizontal-split">
                        <div class="fragment">
                            <blockquote>exports as object</blockquote>
                            <pre><code data-trim contenteditable>
// lib/math.js
var MINI_PI = 3.14;
var earthRadius = 6378;
var toFixed = function ( num ) {
    return Math.ceil(num * 100) / 100
};
var circumference = function ( radius ) {
    return toFixed( MINI_PI * ( 2 * radius )  )
};
exports = {
    circumference: circumference,
    MINI_PI: MINI_PI,
    toFixed: toFixed
};
                            </code></pre>
                        </div>
                        <div class="fragment">
                            <blockquote>exports individual attributes</blockquote>
                            <pre><code data-trim contenteditable>
// lib/math.js
var MINI_PI = 3.14;
var toFixed = function ( num ) {
    return Math.ceil(num * 100) / 100
};
exports.circumference = function ( radius ) {
    return toFixed( MINI_PI * ( 2 * radius )  )
};
                            </code></pre>
                            <div class="fragment" style="width: 100%; padding-top: 1em;">
                                <blockquote>require</blockquote>
                                <pre><code data-trim contenteditable>
var math = require('lib/math');
var earthsCircum = math.circumeference( 6378 );
                                </code></pre>
                            </div>
                        </div>
                    </div>
                    <aside class="notes">
                        CommonJS Modules (CJS)
The dominant incarnation of this standard is Node.js modules (Node.js modules have a few features that go beyond CJS).
                    </aside>
                </section>

                <section>
                    <h2>Asynchronous Module Definition (AMD)</h2>
                    <ul class="fragment">
                        <li>Slightly more complicated syntax</li>
                        <li>Designed for asynchronous loading</li>
                        <li>main use: browsers</li>
                        <li>The most popular implementation of this standard is RequireJS.</li>
                    </ul>
                    <div class="horizontal-split">
                        <div class="fragment">
                            <blockquote>define</blockquote>
                            <pre><code data-trim contenteditable>
// app/geo
define([ 'lib/math' ], function ( math ) {
    var getCircumference = function ( radius ) {
        return math.circumference( radius );
    };

    // export circumference for other modules
    return {
        getCircumference: getCircumference
    };
});
                            </code></pre>
                        </div>
                        <div class="fragment">
                            <blockquote>require</blockquote>
                            <pre><code data-trim contenteditable>
// main.js
require([ 'underscore', 'app/geo' ], function ( _, geo ) {
        // main module loads other other modules
        var earthsCircum = geo.getCircumference( 6378 );
        // do other stuff
});
                            </code></pre>
                        </div>
                    </div>
                    <aside class="notes">
                        <li>Slightly more complicated syntax</li>
                        <li>enabling AMD to work without eval() or a static compilation step</li>
                        <li>Designed for asynchronous loading</li>
                        <li>main use: browsers</li>
                        <li>The most popular implementation of this standard is RequireJS.</li>
                    </aside>
                </section>

                <section>
                    <h2>ES6 Modules</h2>
                    <blockquote>The goal for ECMAScript 6 (ES6) modules was to create a format that both users of CommonJS and of AMD are happy with.</blockquote>
                    <p class="fragment" style="margin-top: 1em;">Implicitly async model – no code executes until requested modules are available and processed.</p>
                    <pre class="fragment"><code data-trim contenteditable>
import $ from "jquery";                    // import the default export of a module
module crypto from "crypto";               // binding an external module to a variable
import { encrypt, decrypt } from "crypto"; // binding a module's exports to variables
import { encrypt as enc } from "crypto";   // binding and renaming one of a module's exports
export * from "crypto";                    // re-exporting another module's exports
export { foo, bar } from "crypto";         // re-exporting specified exports from another module
                    </code></pre>
                    <aside class="notes">
                        A module is simply a file with JavaScript code in it.
                    </aside>
                </section>

                <section>
                    <h2>exporting module</h2>
                    <pre class="fragment"><code data-trim contenteditable>
// lib/math.js
const MINI_PI = 3.14;
const EARTH_RADIUS = 6378;

// this function is private to the module
function toFixed(num) {
    return Math.ceil(num * 100) / 100;
}

// export function
export function circumference(radius) {
    return toFixed(MINI_PI * (2 * radius))
}

// export variables
export var planet = 'Earth';
export let distanceFromSun = 149600000;
export MINI_PI;

// export class
export class Rectangle {
    constructor(length, width) {
        this.length = length;
        this.width = width;
    }
}

---

// importing

import { circumference } from './circumference';
import { EARTH_RADIUS } from './constants';
let earthCircum = circumference(EARTH_RADIUS);

circumference = 40075; // error

console.log(`Earth's circumference: ${ earthCircum }km.`); // "Earth's circumference: 40074.16km."

---

// math.js
function sum(num1, num2) {
    return num1 + num2;
}

export { sum as add };

// main.js
import { add } from './math';

// or rename during import

// math.js
function sum(num1, num2) {
    return num1 + num2;
}

export sum;

// main.js
import { add as sum } from './math';
console.log(typeof add); // 'undefined'
console.log(sum(1, 2)); // 3

---

// math.js
export default function sum(num1, num2) {
    return num1 + num2;
}

// main.js
import sum from './math';
console.log(sum(1, 2)); // 3

---

// math.js
export MINI_PI = 3.14;
export default function sum(num1, num2) {
    return num1 + num2;
}

// main.js
import sum, { MINI_PI } from './math';
console.log(sum(1, 2)); // 3
console.log(MINI_PI); // 3.14

---

import { sum } from './math';
export { sum }

export { sum } from './math';
export { sum as add } from './math';
export * from './math';


                    </code></pre>
                </section>

                <section>
                    <h2>exporting variables and functions</h2>
                    <div class="fragment">
                        <pre><code data-trim contenteditable>
// lib/math.js
const MINI_PI = 3.14;
let earthRadius = 6378;
let toFixed = num => Math.ceil(num * 100) / 100
export MINI_PI;
export function circumference ( radius ) {
    return toFixed( MINI_PI * ( 2 * radius )  )
}
                        </code></pre>
                    </div>
                </section>

                <section>
                    <h2>importing</h2>
                    <blockquote>Import declarations bind another module’s exports as local variables. Imported variables may be locally renamed to avoid conflicts.</blockquote>
                    <div class="horizontal-split">
                        <div class="fragment">
                            <blockquote>import as a module</blockquote>
                            <pre><code data-trim contenteditable>
// app.js
module math from 'lib/math';
let earthCircum = math.circumference( 6378 );
log(`earth's circumference: ${earthCircum}`);
                            </code></pre>
                        </div>
                        <div class="fragment">
                            <blockquote>import as variables</blockquote>
                            <pre><code data-trim contenteditable>
// app.js
module { MINI_PI, circumference } from 'lib/math';
let earthCircum = circumference( 6378 );
log(`earth's circumference: ${earthCircum}`);
                            </code></pre>
                        </div>
                        <div class="fragment" style="width: 100%;margin-top: 1em;">
                            <blockquote>renaming</blockquote>
                            <pre><code data-trim contenteditable>
module { MINI_PI as PIE, circumference as circum } from 'lib/math';
                            </code></pre>
                        </div>
                    </div>
                </section>

                <section>
                    <h2>default export</h2>
                    <div class="horizontal-split">
                        <div class="fragment">
                            <blockquote>default export</blockquote>
                            <pre><code data-trim contenteditable>
module "foo" {
    export default function () {
        console.log("hello!");
    }
}
                            </code></pre>
                        </div>
                        <div class="fragment">
                            <blockquote>import</blockquote>
                            <pre><code data-trim contenteditable>
import foo from "foo"; // no need for curly braces
foo(); // hello!
                            </code></pre>
                        </div>
                    </div>
                </section><!-- ### modules ### -->
                <!-- end ### Organizational features ### -->

                <!-- ### New standard library features ### -->
                <section>
                    <h2>New standard library features:</h2>
                    <ul>
                        <li>Set</li>
                        <li>Map</li>
                    </ul>
                    <aside class="notes">
                        http://www.nczonline.net/blog/2014/04/22/creating-defensive-objects-with-es6-proxies/
                    </aside>
                </section>

                <section>
                    <h2>Set</h2>
                    <blockquote>A set is in an ordered list of values that cannot contain duplicates.</blockquote>
                    <pre class="fragment"><code data-trim contenteditable>
var fruits = new Set();
fruits.add('banana');
fruits.has('banana'); // true
fruits.add('apple');
fruits.size; // 2
                    </code></pre>
                    <div class="fragment">
                        <blockquote>Set methods</blockquote>
                        <pre><code data-trim contenteditable>
console.log( Object.getOwnPropertyNames(Set.prototype) );
// [ "size", "has", "add", "delete", "clear" ]
                        </code></pre>
                    </div>
                    <aside class="notes">
                        Sets are nothing new if you come from languages such as Java, Ruby, or Python but have been missing from JavaScript.
                        You typically don't access items in the set like you would items in an array, instead it's much more common to check the set to see if a value is present.
                    </aside>
                </section>

                <section>
                    <h2>Set and coercion</h2>
                    <pre class="fragment"><code data-trim contenteditable>
var items = new Set();
items.add(5);
items.add("5");
console.log(items.size()); // 2
                    </code></pre>
                    <aside class="notes">
                        ECMAScript 6 sets do not coerce values in determining whether or not to values are the same. So, a set can contain both the number 5 and the string "5" (internally, the comparison is done using Object.is()). If the add() method is called more than once with the same value, all calls after the first one are effectively ignored.
                    </aside>
                </section>

                <section>
                    <h2>Converting Array to Sets</h2>
                    <blockquote>You can initialize the set using an array, and the Set constructor will ensure that only unique values are used.</blockquote>
                    <pre class="fragment"><code data-trim contenteditable>
var items = new Set([1, 2, 2, 3, 3, 4, 5, 5, 5, 5]);
console.log(items.size()); // 5
                    </code></pre>
                </section>

                <section>
                    <h2>Map</h2>
                    <blockquote class="fragment"><strong>Map</strong> type is an ordered list of key-value pairs where both the key and the value can be of any type.</blockquote>
                </section>

                <section>
                    <h2>Why do we need Map?</h2>
                    <blockquote class="fragment">Quiz</blockquote>
                    <pre class="fragment"><code data-trim contenteditable>
var library = {};
var LOTR = { title: 'The Lord of The Rings', author: 'J.R.R Tolkien' };
var TLP = { title: 'The Little Prince', author: 'Antoine de Saint-Exupery' };
library[LOTR] = 'The Lord of The Rings';
library[TLP] = 'The Little Prince';
console.log( library[LOTR] ); // ???
console.log( library[TLP] ); // ???
                    </code></pre>
                </section>

                <section>
                    <h2>Map - proper way</h2>
                    <pre class="fragment"><code data-trim contenteditable>
var library = new Map();
var LOTR = { title: 'The Lord of The Rings', author: 'J.R.R Tolkien' };
var TLP = { title: 'The Little Prince', author: 'Antoine de Saint-Exupery' };
library.set(LOTR, 'The Lord of The Rings');
library.set(TLP, 'The Little Prince');
library.get(LOTR); // "The Lord of The Rings"
library.get(TLP) ); // "The Little Prince"
// DOM Nodes
var header = document.getElementById('header');
library.set(header, 'some metadata');
                    </code></pre>
                    <aside class="notes">
                        ECMAScript 6 sets do not coerce values in determining whether or not to values are the same. So, a set can contain both the number 5 and the string "5" (internally, the comparison is done using Object.is()). If the add() method is called more than once with the same value, all calls after the first one are effectively ignored:
                    </aside>
                </section>

                <section>
                    <h2>Map methods</h2>
                    <pre class="fragment"><code data-trim contenteditable>
console.log( Object.getOwnPropertyNames(Map.prototype) );
// [ "size", "get", "has", "set", "delete" ]
                    </code></pre>
                </section><!-- end ### New standard library features ### -->

            </section><!-- END OF PART THREE -->

            <!-- PART FOUR -->
            <section>
                <section>
                    <h1>part four</h1>
                </section>

                <!-- ### New standard library features continuous ### -->
                <section>
                    <h2>New standard library features:</h2>
                    <ul>
                        <li>WeakMap + WeakSet</li>
                        <li>Promises</li>
                        <li>Proxies</li>
                    </ul>
                    <aside class="notes">
                        http://www.nczonline.net/blog/2014/04/22/creating-defensive-objects-with-es6-proxies/
                    </aside>
                </section><!-- end ### New standard library features continuous ### -->

                <section>
                    <h2>...rest of goodies</h2>
                    <ul>
                        <li>symbols</li>
                        <li>template strings</li>
                        <li>unicode</li>
                        <li>module loaders</li>
                        <li>subclassable built-ins</li>
                        <li>math + number + string + object APIs</li>
                        <li>binary and octal literals</li>
                        <li>reflect api</li>
                        <li>tail calls</li>
                    </ul>
                </section>
            </section><!-- END OF PART FOUR -->

            <section>
                <h1>Questions?</h1>
            </section>

            <section>
                <h1>Thank you</h1>
            </section>

            </div>
        </div>

        <script src="lib/js/head.min.js"></script>
        <script src="js/reveal.min.js"></script>

        <script>

            // Full list of configuration options available here:
            // https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                controls: true,
                progress: true,
                history: true,
                center: true,

                theme: 'moon', //Reveal.getQueryHash().theme, // available themes are in /css/theme
                transition: 'concave', //Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

                // Parallax scrolling
                // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
                // parallaxBackgroundSize: '2100px 900px',

                // Optional libraries used to extend on reveal.js
                dependencies: [
                    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
                    { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
                ]
            });

        </script>

    </body>
</html>
